:root { --blue:#007bff; --green:#28a745; --red:#dc3545; --muted:#6c757d; }
* { box-sizing: border-box; }
body { font-family: Arial, sans-serif; margin: 0; color: #212529; }
.nav { background:#333; display:flex; gap:6px; padding:0 8px; }
.nav a { color:#f2f2f2; text-decoration:none; padding:14px 16px; display:block; }
.nav a:hover { background:#575757; }
.nav a.active { background:#04AA6D; }
.container { padding: 20px; }

/* Banners */
.banner { display:flex; justify-content:space-between; align-items:center; padding:12px 16px; border-radius:8px; margin-bottom:16px; }
.banner-info { background:#e3f2fd; border-left:4px solid #2196f3; }

/* Metric cards */
.metric-card { background:#f8f9fa; border:1px solid #dee2e6; border-radius:8px; padding:20px; min-width:180px; text-align:center; }
.metric-card h3 { margin:0 0 10px; font-size:14px; font-weight:600; color:#495057; }
.metric-card .value { font-size:24px; font-weight:700; }
.metric-card .card-subtext { margin:8px 0 0; font-size:12px; color:#6c757d; line-height:1.4; }
.metric-card .percentage { margin-top:5px; font-size:14px; font-weight:600; }
.metric-card.gain .value, .gain { color: var(--green); }
.metric-card.loss .value, .loss { color: var(--red); }

/* Tables */
.table-container { overflow-x:auto; }
table { width:100%; border-collapse:collapse; background:#fff; border-radius:8px; overflow:hidden; box-shadow:0 2px 4px rgba(0,0,0,0.1); }
th, td { padding:12px; text-align:left; border-bottom:1px solid #eee; }
th { background:#f8f9fa; font-weight:600; color:#333; }

/* Connection/Status widgets */
.connection-status { display:flex; justify-content:space-between; align-items:center; background:#f8f9fa; padding:15px; border-radius:8px; margin-bottom:20px; border-left:4px solid var(--blue); }
.refresh-btn, .retry-btn { background: var(--blue); color:#fff; border:none; padding:8px 16px; border-radius:4px; cursor:pointer; font-size:14px; }
.refresh-btn:hover, .retry-btn:hover { background:#0056b3; }
.retry-btn { background: var(--red); }
.retry-btn:hover { background:#c82333; }
.warning-section { background:#fff3cd; color:#856404; padding:20px; border-radius:8px; border-left:4px solid #ffc107; }
.error-section { background:#f8d7da; color:#721c24; padding:20px; border-radius:8px; border-left:4px solid var(--red); }

/* Dashboard - layout blocks */
.portfolio-summary { display:flex; gap:20px; margin-bottom:30px; flex-wrap:wrap; }
.config-section { background:#f1f8ff; border:1px solid #c1d7f0; border-radius:8px; padding:20px; margin-bottom:30px; }
.config-section h3 { margin:0 0 15px; color:#0366d6; font-size:18px; font-weight:600; }
.config-cards { display:flex; gap:15px; flex-wrap:wrap; }
.config-card { background:#fff; border:1px solid #d1d9e0; border-radius:6px; padding:15px; min-width:160px; flex:1; text-align:center; }
.config-card h4 { margin:0 0 8px; color:#586069; font-size:13px; font-weight:600; text-transform:uppercase; letter-spacing:.5px; }
.config-card .config-value { margin:0; color:#24292e; font-size:16px; font-weight:600; }
.config-value.hash { font-family: 'Monaco','Consolas',monospace; font-size:14px; background:#f6f8fa; padding:4px 8px; border-radius:3px; border:1px solid #e1e4e8; }
.config-value.real-mode { color:#d73a49; font-weight:bold; }
.config-value.sim-mode { color:#28a745; font-weight:bold; }

.trigger-section { background:#f8f9fa; border:1px solid #dee2e6; border-radius:8px; padding:20px; margin-bottom:30px; }
.trigger-section h3 { margin:0 0 10px; color:#495057; font-size:18px; font-weight:600; }
.trigger-description { margin:0 0 15px; color:#6c757d; font-size:14px; }
.trigger-buttons { display:flex; gap:10px; flex-wrap:wrap; margin-bottom:15px; }
.trigger-btn { display:inline-flex; align-items:center; gap:8px; padding:10px 15px; border:1px solid var(--blue); border-radius:6px; background:var(--blue); color:#fff; cursor:pointer; font-size:14px; font-weight:500; transition:.2s; }
.trigger-btn:hover { background:#0056b3; border-color:#0056b3; transform:translateY(-1px); }
.trigger-btn:disabled { background:#6c757d; border-color:#6c757d; cursor:not-allowed; }
.trigger-all { background: var(--green); border-color: var(--green); }
.trigger-all:hover { background:#1e7e34; border-color:#1e7e34; }
.btn-icon { font-size:16px; }
.trigger-status { padding:10px; border-radius:4px; font-size:14px; min-height:20px; }
.trigger-status.success { background:#d4edda; color:#155724; border:1px solid #c3e6cb; }
.trigger-status.error { background:#f8d7da; color:#721c24; border:1px solid #f5c6cb; }
.trigger-status.loading { background:#d1ecf1; color:#0c5460; border:1px solid #bee5eb; }

/* Price/Reset controls */
.price-update-container { margin-top:10px; }
.price-update-btn { display:inline-flex; align-items:center; gap:8px; padding:10px 15px; border:1px solid var(--blue); border-radius:6px; background:var(--blue); color:#fff; cursor:pointer; }
.reset-container { text-align:center; margin-top:30px; margin-bottom:20px; }
.reset-btn-small { display:inline-flex; align-items:center; gap:6px; padding:8px 12px; border:1px solid var(--red); border-radius:4px; background:var(--red); color:#fff; cursor:pointer; font-size:12px; font-weight:500; transition:.2s; }
.reset-btn-small:hover { background:#c82333; border-color:#c82333; transform:translateY(-1px); }
.reset-status-small { margin-top:8px; padding:6px 10px; border-radius:4px; font-size:12px; min-height:16px; display:none; }
.reset-status-small.success { display:block; background:#d4edda; color:#155724; border:1px solid #c3e6cb; }
.reset-status-small.error { display:block; background:#f8d7da; color:#721c24; border:1px solid #f5c6cb; }
.reset-status-small.loading { display:block; background:#d1ecf1; color:#0c5460; border:1px solid #bee5eb; }

/* Charts */
.charts-container { display:flex; gap:30px; margin-top:30px; flex-wrap:wrap; }
.chart-section { flex:1; min-width:400px; }
.chart-section canvas { max-height:400px; }

/* Feedback dashboard extras */
.feedback-section { background:#fff; padding:20px; border-radius:10px; box-shadow:0 2px 10px rgba(0,0,0,0.1); margin-bottom:20px; }
.feedback-content { background:#f8f9fa; padding:15px; border-left:4px solid var(--blue); margin:10px 0; border-radius:4px; }
.feedback-history-item { background:#f8f9fa; border:1px solid #dee2e6; border-radius:8px; padding:15px; margin:10px 0; }
.feedback-history-item h4 { margin:0 0 10px; color:#495057; font-size:16px; }
.feedback-history-item .timestamp { font-size:12px; color:#666; margin-bottom:10px; }
.feedback-history-item .content { background:#fff; padding:10px; border-radius:4px; white-space:pre-wrap; font-size:13px; max-height:200px; overflow-y:auto; }
.feedback-history-container { max-height:600px; overflow-y:auto; border:1px solid #dee2e6; border-radius:8px; padding:15px; background:#f8f9fa; }
.feedback-history-container::-webkit-scrollbar { width:8px; }
.feedback-history-container::-webkit-scrollbar-track { background:#f1f1f1; border-radius:4px; }
.feedback-history-container::-webkit-scrollbar-thumb { background:#c1c1c1; border-radius:4px; }
.feedback-history-container::-webkit-scrollbar-thumb:hover { background:#a8a8a8; }
.outcomes-table { width:100%; border-collapse:collapse; background:#fff; }
.outcomes-table th, .outcomes-table td { padding:12px; text-align:left; border-bottom:1px solid #ddd; }
.outcomes-table th { background:#f8f9fa; font-weight:700; cursor:pointer; user-select:none; position:relative; padding-right:20px; }
.outcome-significant_profit { background:#d4edda; }
.outcome-moderate_profit { background:#d1ecf1; }
.outcome-break_even { background:#fff3cd; }
.outcome-moderate_loss { background:#f8d7da; }
.outcome-significant_loss { background:#f5c6cb; }
.outcomes-table th.sortable::after { content:" ↕️"; position:absolute; right:8px; opacity:.5; }
.outcomes-table th.sort-asc::after { content:" ↑"; opacity:1; color:var(--blue); }
.outcomes-table th.sort-desc::after { content:" ↓"; opacity:1; color:var(--blue); }

/* Animations */
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
.spinning { animation: spin 1s linear infinite; }

/* Prompt transparency */
.prompt-section { margin-bottom:30px; }
.prompt-section-header { margin-bottom:20px; max-width:840px; }
.prompt-section-header h2 { margin:0 0 10px; font-size:24px; color:#212529; }
.section-intro { margin:0; color:#495057; font-size:14px; line-height:1.6; }
.prompt-grid { display:grid; gap:20px; grid-template-columns:repeat(auto-fit, minmax(280px, 1fr)); }
.prompt-card { background:#fff; border:1px solid #dee2e6; border-radius:10px; padding:18px; box-shadow:0 4px 16px rgba(0,0,0,0.06); display:flex; flex-direction:column; gap:12px; }
.prompt-card header { border-bottom:1px solid #f0f0f0; padding-bottom:10px; }
.prompt-card-title { display:flex; justify-content:space-between; align-items:center; font-weight:600; color:#343a40; }
.prompt-version-tag { font-size:12px; background:#e9ecef; color:#495057; padding:4px 8px; border-radius:12px; text-transform:uppercase; letter-spacing:.5px; }
.prompt-description { margin:8px 0 0; font-size:13px; color:#6c757d; line-height:1.5; }
.prompt-card details { border:1px solid #e9ecef; border-radius:8px; padding:10px 12px; background:#f8f9fa; }
.prompt-card details summary { font-weight:600; color:#343a40; cursor:pointer; }
.prompt-card details[open] summary { margin-bottom:10px; }
.prompt-block { margin:0; white-space:pre-wrap; font-family:'SFMono-Regular','Menlo','Monaco','Consolas','Liberation Mono','Courier New',monospace; font-size:13px; line-height:1.45; color:#212529; }
